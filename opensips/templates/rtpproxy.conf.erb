# Defaults for opensips
##USER=<%= node['opensips']['user'] %>
##GROUP=<%= node['opensips']['group'] %>

# The control socket.
CONTROL_SOCK=<%= node['opensips']['control_sock'] %>
RTTP_NOTIFY_SOCKET=<%= node['opensips']['rttp_notify_socket'] %>
LISTEN_ADDR=<%= node['opensips']['listen_addr'] %>
ADVERTISED_ADDR=<%= node['opensips']['advertised_addr'] %>

USED_PORTS="-m <%= node['opensips']['min-port'] %> -M <%= node['opensips']['max-port'] %>"

NETWORK_SETTINGS="-l $LISTEN_ADDR/$LISTEN_ADDR"

# Additional options that are passed to the daemon.
EXTRA_OPTS="$NETWORK_SETTINGS $USED_PORTS <%= node['opensips']['extra_opts'] %>"

##DAEMON_OPTS="-u $USER:$GROUP -n $RTTP_NOTIFY_SOCKET -s $CONTROL_SOCK $EXTRA_OPTS"
##DAEMON_OPTS="-u $USER -n $RTTP_NOTIFY_SOCKET -s $CONTROL_SOCK $EXTRA_OPTS"
DAEMON_OPTS="-n $RTTP_NOTIFY_SOCKET -s $CONTROL_SOCK $EXTRA_OPTS"
OPTIONS=$DAEMON_OPTS